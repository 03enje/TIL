# 데이터베이스

## 구조화된 데이터의 집합
> 데이터와 정보의 차이
> 데이터는 어떤 필요에 의해 수집했지만 아직 특정 목적을 정제하지 않은 값, 사실 또는 자료를 의미합니다.
> 정보는 수집된 데이터를 어떤 목적을 위해 분석, 가공하여 가치를 추가하거나 새로운 의미를 부여한 결과입니다.

* 효율적인 데이터 관리를 위한 조건
데이터를 통합하여 관리 | 일관된 방법으로 관리 | 데이터 누락 및 중복 관리 | 여러 사용자(응용 프로그램 포함)가 공동으로 실시간 사용 가능

위 조건을 만족하면서 특정 목적을 위해 여러 사람이 공유하여 사용할 수 있으며, 효율적인 관리와 검색을 위해 구조화한 데이터집합을 '데이터베이스'라고 합니다.

## 데이터베이스 관리 시스템이란?
- 데이터베이스 관리 시스템(DBMS)

> 연관성 있는 데이터들의 집합을 효율적으로 응용하기 위해 구성된 소프트웨어들의 집합체

* DBMS를 통한 데이터 관리
- 데이터베이스를 통한 데이터관리란 여러 목적으로 사용할 데이터의 접근·관리 등의 업무 DBMS가 전담
- 이러한 작업 영역의 분리는 응용 프로그램의 서비스제공과 데이터 관련 작업 효율을 높입니다.
또한 여러 응용 프로그램이 하나의 통합된 데이터를 같은 방식으로 사용·관리할 수 있으므로 데이터 누락이나 중복을 방지합니다.

## 데이터 모델
- 계층형 데이터 모델
나뭇가지 형태의 트리(tree) 구조를 활용하여 데이터 관련성을 계층별로 나누어 부모 자식 같은 관계를 정의하고 데이터를 관리합니다.

- 네트워크형 데이터 모델
망형 데이터 모델이라고 하며 그래프 구조를 기반으로 합니다. 다시 말해 개체 간 관계를 그래프 구조로 연결하므로 자식 개체가 여러 부모 개체를 가질 수 있다는 점에서 계층형 데이터 모델과 차이가 있습니다.

- 객체 지향형 모델
객체 지향형 데이터 모델은 1980년대 후반에 등장한 모델로 객체 지향 프로그래밍에서 사용하는 객체 개념을 기반으로한 데이터 모델입니다. 그리고 객체 지향 프로그래밍처럼 데이터를 독립된 객체로 구성하고 관리하며 상속, 오버라이드 등 객체 지향 프로그래밍에 사용되는 강력한 기능을 활용할 수 있습니다.

- 관계형 데이터 모델
관계형 데이터 모델(relational data model)은 1970년 에드거 프랭크 커드(E.F.Codd)가 제안한 모델로서 현대에 가장 많이 사용하는 관계형 데이터베이스의 바탕이 되는 모델입니다. 다른 모델과 달리 데이터 간 관계(relationship)에 초점을 둡니다.

## 관계형 데이터 모델 구성 요소
- 개체(entity) :
데이터베이스에서 데이터화하려는 사물, 개념의 정보 단위입니다. 관계형 데이터베이스의 테이블(table) 개념과 대응되며 테이블은 릴레이션(relation) 표기하기도 합니다.
> entity = table = relation
- 속성(attribute) :
개체를 구성하는 데이터의 가장 작은 논리적 단위로서 데이터의 종류·특성·상태 등을 정의합니다. 관계형 데이터베이스의 열(column) 개념과 대응됩니다.
- 관계(relationship) :
개체와 개체 또는 속성 간의 연관성을 나타내기 위해 사용합니다. 관계형 데이터베이스에서는 테이블 간의 관계를 외래키(foreign key, fk) 등으로 구현하여 사용합니다.

### 테이블 구성 요소
테이블은 2차원 형태의 표처럼 볼 수 있도록 로우(ROW : 행)와 칼럼(COLUMN : 열)으로 구성합니다.
관계형 데이터베이스에서 테이블은 관계(relation), 행은 튜플(tuple) 또는 레코드(record) 그리고 열은 속성을 의미하는 애트리뷰트(attribute) 또는 필드(field)라고 합니다.

## SQL(Structured Query Language)
### SQL
- 데이터베이스에 저장된 데이터를 조회, 입력, 수정, 삭제(CRUD)하는 등의 조작이나, 테이블을 비롯한 다양한 객체(시퀀스(일련번호 생성 ), 인덱스(첨자) 등)를 생성 및 제어하는 역할을 합니다.
### SQL의 종류
- 데이터 정의어(Data Definition Language, DDL) :
데이터베이스 관리자나 응용 프로그래머가 데이터베이스의 논리적 구조를 정의하기 위한 언어로서 데이터 사전(Data Dictionary)에 저장 됩니다.
- 데이터 조작어(Data Manipulation Language, DML) :
데이터베이스에 저장된 데이터를 조작하기 위해 사용하는 언어로서 데이터 검색(Retrieval), 추가(Insert), 삭제(Delete), 갱신(Update) 작업을 수행합니다.
- 데이터 제어어(Data Control Language, DCL) :
데이터에 대한 접근 권한 부여 등의 데이터베이스 시스템의 트랜잭션을 관리하기 위한 목적으로 사용되는 언어입니다.

- DQL : RDBMS 내 저장한 데이터를 원하는 방식으로 조회하는 명령어
> * SELECT 데이터 검색시 사용
- DML : RDBMS 내 테이블의 데이터를 저장·수정·삭제하는 명령어
> * INSERT 데이터 입력
> * UPDATE 데이터 수정
> * DELETE 데이터 삭제
- DDL : RDBMS 내 데이터 관리르 위해 테이블을 포함한 여러 객체를 생성·수정·삭제하는 명령어
> * CREATE 데이터베이스 생성
> * ALTER 데이터베이스 변경
> * DROP 데이터베이스 삭제
> * RENAME 데이터베이스 객체이름 변경
> * TRUNCATE 데이터베이스 저장 공간 삭제
- TCL : 트랜잭션 데이터의 영구·저장·취소 등과 관련된 명령어  
> * COMMIT 트랜잭션의 정상적인 종료처리
> * ROLLBACK 트랜잭션 취소
> * SAVEPOINT 트랜잭션내에 임시 저장점 설정
- DCL : 데이터 사용 권한과 관련된 명령어
> * GRANT 데이터베이스에 대한 일련의 권한 부여
> * REVOKE 데이터베이스에 대한 일련의 권한 취소

## 특별한 의미를 지닌 열(COLUMN), 키(KEY)
- (key)는 단어 뜻 그대로 '열쇠'라는 의미에서 비롯된 용어 입니다. 어떤 문에 꼭 맞는 열쇠가 하나씩 있듯이 수많은 데이터를 구별할 수 있는 유일한 값이라는 뜻입니다. 키는 하나의 테이블을 구성하는 여러 열중에서 특별한의미를 지닌 하나 또는 여러 열의 조합을 의미합니다.

> 키는 기본키(primary key), 후보키(candidate key), 외래키(foreign key), 복합키(composite key) 등으로 구분됩니다.

### 기본키
기본키(PK : Primary Key)는 여러 키 중에서 가장 중요한 키로서 한 테이블 내에서 중복되지 않는 값만 가질 수 있는 키입니다.
1. 테이블에 저장된 행을 식별할 수 있는 유일한 값이어야 합니다.
2. 값의 중복이 없어야 합니다.
3. NULL 값을 가질 수 없습니다.

### 보조키
보조키는 대체키(Alternate Key)라고도 부릅니다. 또한 후보키(Candidate Key)에 속해 있는 키입니다. 이 후보키 중 기본키로 지정되지 않은 키를 보조키 또는 대체키라고도 합니다. 그 밖에 행 식별이 가능한 키의 모든 조합을 의미하는 슈퍼키(Super Key) 개념도 존재합니다.

### 외래키
외래키(FK : Foreign Key)는 특정 테이블에 포함되어 있으면서 다른 테이블의 기본키로 지정 된 키를 의미합니다.

### 복합키
복합키(Composite Key)는 여러열을 조합하여 기본키 역할을 할 수 있게 만든 키를 뜻합니다. 복합키를 만들 때 적게는 두세 개, 많게는 열개가 넘는 열을 조합하기도 합니다. 왜냐하면 하나의 열만으로 행을 식별하는 것이 불가능하여 두 개 이상의 열 값을 함께 사용해야 각 행이 유일한 데이터로서 가치를 지니기 때문입니다.

## 자료형
> VARCHAR2 : 4000byte만큼의 가변 길이 문자열 데이터를 저장할 수 있습니다.(최소 크기는 1byte)

> NUMBER : +- 38자릿수의 숫자를 저장할 수 있습니다. NUMBER(p, s)와 같이 표기할 경우 s자리만큼 소수점 이하 자릿수를 표현하고, 이 소수점 자리를 포함한 전체 p자리만큼 숫자 데이터를 저장합니다.

> DATE : 날짜 형식을 저장하기 위해 사용하는 자료형으로 세기, 연, 월, 일, 시, 분, 초 저장이 가능합니다.

> CHAR : 4000byte만큼의 고정 길이 문자열 데이터를 저장할 수 있습니다.(최소 크기는 1byte)

> NVARCHAR2 : 4000byte만큼의 가변 길이 국가별 문자 세트 데이터를 저장할 수 있습니다.(최소 크기는 1byte)

> BLOB : 최대 크기 4GB의 대용량 이진 데이터를 저장할 수 있습니다.

> CLOB : 최대 크기 4GB의 대용량 텍스트 데이터를 저장할 수 있습니다.

> BFILE : 최대 크기 4GB의 대용량 이진 데이터 파일을 저장할 수 있습니다.

* CHAR와 VARCHAR2의 차이점 - CHAR는 고정 길이 문자열로 만약 길이가 10개라면 5개의 값만 있어도 나머지 5개는 공백으로 채워야하지만 VARCHAR2는 가변 길이이기 때문에 5개의 값만 저장됩니다.

## 객체
> 테이블(table) : 데이터를 저장하는 장소입니다.

> 인덱스(index) : 테이블의 검색 효율을 높이기 위해 사용합니다.

> 뷰(view) : 하나 또는 여러 개의 선별된 데이터를 논리적으로 연결하여 하나의 테이블처럼 사용하게 해줍니다.

> 시퀀스(sequence) : 일련 번호를 생성해 줍니다.

> 시노님(synonym) : 오라클 객체의 별칭(다른 이름)을 지정합니다.

> 프로시저(procedure) : 프로그래밍 연산 및 기능 수행이 가능합니다.(반환 값 없음)

> 함수(function) : 프로그래밍 연산 및 기능 수행이 가능합니다.(반환 값 있음)

> 패키지(package) : 관련 있는 프로시저와 함수를 보관합니다.

> 트리거(trigger) : 데이터 관련 작업의 연결 및 방지 관련 기능을 제공합니다.

## PL/SQL
오라클 데이터베이스를 포함한 여러 관계형 데이터베이스에서 데이터를 관리하기 위해 복잡한 기능이 필요할 때 기존 SQL만으로 이를 구현하는 것은 다소 한계가 있습니다.

그래서 오라클 데이터베이스는 데이터를 관리하기 위해 별도의 프로그래밍 언어를 제공하는데 이를 PL/SQL(Procedureal Language Extension To SQL)이라 합니다.

보통 오라클 데이터베이스 프로그래밍이라고 하면 SQL문과 PL/SQL을 사용하여 프로그램을 제작하는 것을 의미합니다.

PL/SQL을 사용하면 변수, 조건문, 반복문 등 프로그래밍언어에서 제공하는 요소를 사용하여 데이터를 관리할 수 있습니다. 따라서 SQL문만 사용하는 것 보다 강력한 데이터 관리 기능을 구현할 수 있습니다.

## 오라클 설치 명령어
> SQL : connect sys/oracle as sysdba -> Connected.

> SQL : alter user hr identified by hr account unlock; -> User altered.

> SQL : connect hr/hr -> Connected.

> SQL : show user -> USER is "HR"

> SQL : conn hr/hr -> 서버 접속 
